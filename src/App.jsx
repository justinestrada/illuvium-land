import { useEffect } from "react";
import { useMoralis } from "react-moralis";
import { BrowserRouter as Router, Switch, Route, NavLink, Redirect } from "react-router-dom";
import { Menu, Layout } from "antd";
import "antd/dist/antd.css";
import "./style.css";
import Account from "components/Account";
import HomePage from "components/QuickStart";
import DashboardPage from "components/DashboardPage";
import Text from "antd/lib/typography/Text";
const { Header, Footer } = Layout;

const styles = {
  content: {
    display: "flex",
    justifyContent: "center",
    fontFamily: "Roboto, sans-serif",
  },
  header: {
    position: "fixed",
    zIndex: 1,
    width: "100%",
    background: "rgb(17, 15, 36)",
    display: "flex",
    justifyContent: "space-between",
    alignItems: "center",
    fontFamily: "Roboto, sans-serif",
    borderBottom: "2px solid rgba(0, 0, 0, 0.06)",
    padding: "0 10px",
    boxShadow: "0 1px 10px rgb(151 164 175 / 10%)",
  },
  headerInnerCol: {
    display: "flex",
    justifyContent: "space-between",
    alignItems: "center",
  },
  headerRight: {
    display: "flex",
    gap: "20px",
    alignItems: "center",
    fontSize: "16px",
  },
};

const App = ({ isServerInfo }) => {
  const { isWeb3Enabled, enableWeb3, isAuthenticated, isWeb3EnableLoading } = useMoralis();

  useEffect(() => {
    if (isAuthenticated && !isWeb3Enabled && !isWeb3EnableLoading) enableWeb3();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [isAuthenticated, isWeb3Enabled]);

  const current_date = new Date()

  return (
    <Layout style={{ height: "100vh", overflow: "auto" }}>
      <Router>
        <Header style={styles.header}>
          <div className="container">
            <div className="row">
              <div className="col" style={styles.headerInnerCol}>
                <div style={{width:"250px"}}>
                  <Logo />
                </div>
                <Menu
                  theme="light"
                  mode="horizontal"
                  style={{
                    display: "flex",
                    fontSize: "16px",
                    width: "100%",
                    justifyContent: "flex-end",
                  }}
                  defaultSelectedKeys={["homepage"]}
                >
                  <Menu.Item key="homepage">
                    <NavLink to="/homepage">Home</NavLink>
                  </Menu.Item>
                  <Menu.Item key="dashboard">
                    <NavLink to="/dashboard">Dashboard</NavLink>
                  </Menu.Item>
                </Menu>
                <div style={styles.headerRight}>
                  <Account />
                </div>
              </div>
            </div>
          </div>
        </Header>
        <main id="main-content" className="py-5" style={styles.content}>
          <Switch>
            <Route exact path="/homepage">
              <HomePage isServerInfo={isServerInfo} />
            </Route>
            <Route path="/">
              <Redirect to="/homepage" />
            </Route>
            {/* <Route path="/ethereum-boilerplate">
              <Redirect to="/homepage" />
            </Route> */}
            <Route path="/dashboard">
              <DashboardPage />
            </Route>
          </Switch>
        </main>
      </Router>
      <Footer id="main-footer" className="pt-0">
        <hr className="section-divider mb-3"/>
        <div className="container py-3">
          <div className="row mb-3">
            <div className="col">
              <div id="coinmarketcap-widget-coin-price-block" coins="1027,8719" currency="USD" theme="dark" transparent="true" show-symbol-logo="false"></div>
            </div>
          </div>
          <div className="row">
            <div className="col" style={{ textAlign: "center" }}>
              <Text style={{ display: "block" }}>
                Land &copy; {current_date.getFullYear()}
              </Text>
            </div>
          </div>
        </div>
      </Footer>
    </Layout>
  );
};

export const Logo = () => (
  <div style={{ display: "flex" }}>
    <svg viewBox="0 0 619 165" fill="none" xmlns="http://www.w3.org/2000/svg" height="38px">
      <path d="M77.318 21.942c-.885 26.87-.858 55.793 0 82.829.76-27.027.785-55.958 0-82.829zM154.387 90.497c-.018-3.245-.461-6.417-2.085-9.319-1.91-3.413-4.565-5.525-8.765-5.253-2.488.16-2.613.145-2.616 2.714v31.365a33.629 33.629 0 00.264 4.508 34.36 34.36 0 004.612 13.187 34.55 34.55 0 009.489 10.285 34.729 34.729 0 0012.811 5.696 34.825 34.825 0 0014.031.173 34.78 34.78 0 0020.065-11.843 34.475 34.475 0 008.018-21.801c.033-5.127 0-10.254 0-15.381v-2.564V78.09c0-.926 0-1.93-1.228-2.078-3.688-.437-6.94.278-9.195 3.562a16.042 16.042 0 00-2.843 9.225c-.027 6.635 0 13.27-.018 19.905a26.762 26.762 0 01-.543 5.694c-2.333 10.712-12.174 17.772-23.203 16.665-10.608-1.068-18.685-10.058-18.755-20.966-.054-6.532.003-13.067-.039-19.6zM.006 142.134c0 1.991.288 2.247 2.3 2.226a11.02 11.02 0 007.641-3.115c2.658-2.492 3.513-5.637 3.51-9.138V80.883c0-1.104-.022-2.21 0-3.317.02-1.107-.543-1.61-1.667-1.635-1.955-.045-3.825.25-5.553 1.206C2.05 79.445.027 83.042.012 87.75c-.03 8.99 0 17.98 0 26.967-.006 9.142-.008 18.281-.006 27.417zM47.495 164.138l.06.208c.26-.127.53-.239.785-.38 5.322-2.932 10.978-5.088 16.74-6.961 7.34-2.385 14.79-2.648 22.233-.603a91.273 91.273 0 0118.536 7.344c.367.193.676.579 1.212.467a1.208 1.208 0 00-.194-.271c-9.27-7.118-18.54-14.237-27.81-21.358-1.306-1.008-2.361-.905-3.637.087-9.3 7.18-18.609 14.335-27.925 21.467zM41.988 62.227c-.606.778-.322 1.36.267 1.979 2.23 2.364 3.573 5.214 4.497 8.281 1.14 3.779 1.576 7.666 1.755 11.593.276 6.031.19 12.063.079 18.095-.15 8.042-.191 16.084-.124 24.126.075 8.873-1.152 17.513-3.986 25.936-1.106 3.284-2.21 6.569-3.761 10.049.25-.081.493-.182.727-.302 8.09-6.508 16.145-13.064 24.574-19.138 1.085-.781 1.094-1.764.433-2.772a31.228 31.228 0 00-2.164-2.904c-2.246-2.675-3.134-5.799-3.188-9.216-.07-4.473-.158-8.945-.212-13.415-.194-16.484-.07-32.965-.27-49.459-.255-21.156-.258-42.315-.37-63.47V.761h-.303c-.93 8.399-1.88 16.777-3.488 25.07-2.519 13.029-6.29 25.584-14.466 36.395zM402.892 82.47c-1.931-4.672-4.895-6.636-9.932-6.512-1.758.04-2.043.268-2.043 2.017 0 11.31-.182 22.619.091 33.925.228 9.464 4.334 17.444 11.305 23.738 8.162 7.365 17.951 9.895 28.823 8.366 15.205-2.138 28.031-16.132 28.874-31.365.303-5.579.057-11.158.185-15.703V78.87c.01-.552-.02-1.104-.088-1.652a1.332 1.332 0 00-1.294-1.24c-3.94-.45-7.18.624-9.42 4.074a16.336 16.336 0 00-2.619 8.994c-.033 7.038.046 14.074-.036 21.11-.185 15.321-15.851 25.46-29.835 19.202-8.325-3.728-12.426-10.474-12.647-19.473-.161-6.635-.052-13.27-.031-19.904a19.264 19.264 0 00-1.333-7.513zM600.149 143.648c-.491.968-.87 1.996-1.455 3.363 5.716-1.454 11.214-2.317 15.912-5.562 1.73-1.206 2.828-2.834 3.031-5 .142-1.598.363-3.19.515-4.789.706-7.467.558-14.949.367-22.435-.267-10.492-4.547-19.026-12.596-25.694-5.828-4.826-12.454-7.498-20.225-6.985-5.231.344-10.286 1.457-15.305 2.832a53.843 53.843 0 01-23.255 1.206c-4.792-.787-9.377-2.44-14.163-3.257-7.364-1.257-14.566-1.432-21.333 2.48-10.305 5.962-16.824 14.569-17.882 26.538-.821 9.413-.43 18.861.303 28.298.352 4.403 2.576 7.009 6.447 8.595.56.229 1.115.47 1.679.69 3.031 1.168 6.173 1.894 9.316 2.642.473.115 1.088.456 1.425.03.336-.425-.146-.943-.34-1.384-1.945-4.418-3.973-8.794-4.652-13.652-.391-2.787-.727-5.58-.87-8.387-.263-5.224-.588-10.486.015-15.662 1.292-11.064 10.247-18.577 21.461-18.456 9.117.1 15.627 4.897 18.361 13.538.227.72.439 1.444.624 2.174 2.689 10.622 5.376 21.245 8.059 31.868.088.344.242.67.454 1.237.143-.48.207-.667.255-.86 2.425-9.65 4.857-19.301 7.298-28.952.752-2.97 1.491-5.944 2.685-8.785a14.61 14.61 0 015.304-6.435c4.04-2.811 8.517-3.951 13.439-3.794 10.362.328 19.257 8.833 19.969 19.123.361 5.181.082 10.35-.13 15.513-.279 6.94-1.537 13.686-4.713 19.962zM94.063 39.11c-.258 18.94-.03 37.885-.333 56.825-.158 9.846-.127 19.699-.097 29.555.015 4.997-1.015 9.569-4.58 13.321-.331.376-.63.78-.894 1.206-.79 1.17-.606 2.093.58 2.946 8.097 5.842 15.859 12.115 23.624 18.379.358.301.67.739 1.376.651-2.588-5.802-4.346-11.762-5.831-17.823-.576-2.341-1.146-4.69-1.349-7.1-.503-5.914-.358-11.849-.473-17.775-.194-10.145-.097-20.296-.142-30.46a72.622 72.622 0 01.633-10.368c.643-4.617 1.743-9.093 4.628-12.914 1.885-2.5 1.913-2.49.07-5.126-6.398-9.166-9.877-19.504-12.266-30.276-2.148-9.7-3.318-19.537-4.31-29.401h-.387c-.128 12.796-.076 25.577-.249 38.36zM276.324 144.079c1.709.03 2.664-.935 3.388-2.325a75206.728 75206.728 0 0126.52-50.834 7.517 7.517 0 00.942-3.62c-.112-2.023-1.091-4.05-2.312-5.977-1.949-3.073-4.374-5.772-6.795-8.471-.325-.36-.573-1.023-1.106-.905-.534.118-.455.82-.546 1.294-1.012 5.392-2.143 10.751-4.546 15.74-4.64 9.602-9.802 18.936-14.684 28.414-.197.377-.34.971-.891.884-.552-.087-.673-.7-.909-1.134-4.631-8.927-9.257-17.859-13.878-26.795a54.44 54.44 0 01-4.81-13.294c-.324-1.472-.685-2.935-1.037-4.4-.133-.552-.342-1.086-.951-.386-3.231 3.727-6.623 7.346-8.523 12.003-.97 2.38-.782 4.66.427 6.963a17542.01 17542.01 0 0126.462 50.521c.709 1.354 1.609 2.295 3.249 2.322zM342.422 140.439c0 3.426.458 3.797 3.91 3.164l.148-.033c5.507-1.095 9.193-5.57 9.199-11.288a26339.2 26339.2 0 000-53.335c0-3.815-.476-4.198-4.316-3.468-.149.027-.303.072-.443.108-5.003 1.234-8.437 5.483-8.486 10.764-.063 9.047-.015 18.08-.015 27.118h-.015c0 8.991.006 17.981.018 26.97z" fill="#fff"></path>
    </svg>
  </div>
);

export default App;
